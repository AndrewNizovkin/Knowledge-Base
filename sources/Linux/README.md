# Linux

### Разное

[Статьи о Linux](https://losst.pro/) 

[Установка samba](samba_install.md)

[Установка java, IntellijIdea](./java_intellijIdea_install.md)

[Создание ярлыка для sh-скрипта](./create-label-script.md)

[Установка Docker](./docker_install.md)


## Лекции GB:

[Лекция 1. Основы Linux. Установка системы](https://gbcdn.mrgcdn.ru/uploads/asset/4280474/attachment/09b047516a361df5480bcc1917640740.pdf)

[Лекция 2. Работа с файлами в терминале](https://gbcdn.mrgcdn.ru/uploads/asset/4280738/attachment/d712b306e262a96e33cada8e84781402.pdf)

[Лекция 3. Права доступа и пользователи](https://gbcdn.mrgcdn.ru/uploads/asset/4280869/attachment/11783432339fee1c258fadf841d10abc.pdf)

[Лекция 4. Скрипты Bash](https://gbcdn.mrgcdn.ru/uploads/asset/4327312/attachment/c455e8e64523da57dd9f52665da40384.pdf)

[Лекция 5. Установка пакетов, репозитории. Планировщик Cron.](https://gbcdn.mrgcdn.ru/uploads/asset/4327004/attachment/c5c385090d680a469e83164ef6b77e9b.pdf)

[Урок 6. Сетевые возможности Linux.](https://gbcdn.mrgcdn.ru/uploads/asset/4327097/attachment/0c7e44f4cc0f4f2073d6dd20338f46a2.pdf)

[Урок 7. Веб-сервер на Linux.](https://gbcdn.mrgcdn.ru/uploads/asset/4327200/attachment/5f1dfd3a0177ca7b0fa5149eb80b9b16.pdf)

[Лекция 8. Основы Docker](https://gbcdn.mrgcdn.ru/uploads/asset/4327231/attachment/d6dde88f89db1e0291031e16604e1d7f.pdf)

[ДЗ 8. Запуск веб-приложения из контейнера](https://www.notion.so/90413b48000e40c992764048599c3413?pvs=21)

### Конспекты:

[Установка пакетов, репозитории. Планировщик Cron](https://cloud.mail.ru/public/tqvB/WUYANBkPg)

[Права доступа и пользователи.](https://cloud.mail.ru/public/zMsN/hDSa35L5k)

[Сетевые возможности Linux](https://cloud.mail.ru/public/oVn4/MRLhsZE4F)

[Настройка сети в Linux. Работа с IPtables.](container7.md)

[Веб-сервер на Linux](https://cloud.mail.ru/public/Jpq9/2sNRk9L2B)

[ДЗ: Запуск стека для веб-приложения.](https://cloud.mail.ru/public/eLLh/nDZH4wvez)

[Основы Docker](https://cloud.mail.ru/public/5dcH/vPasfrQpW)

### Курс "Докеризация и контейнеризация

[Механизм пространства имён.](container1.md)

[ДЗ-1. Механизм пространства имён.](https://github.com/AndrewNizovkin/HomeWorks/blob/main/docker_1/namespaces.md)

[Механизмы контрольных групп.](container2.md)

[Введение в Docker.](container3.md)

[Dockerfile  и слои.](container4.md)

[Docker Compose и Docker Swarm](container5.md)

[Docker. Практика](container6.md)

# Глоссарий

- **unetbootin**  утилита для создания загрузочной флэшки для установки linux.

- **ventoy**  утилита для создания мультизагрузочной флэшки Скачиваем архив, вставляем флэшку, заходим в распакованную папку, выполняем из терминала:

```bash
sudo ./Ventoy2Disk.sh -i /dev/sdX
```
где X - буква диска (возможно b)
По завершении копируем на флэшку iso-образ “as is”

- Как остановить зависшее приложение:
    
    нажимаешь Alt+F2 набираешь gnome-system-monitor на вкладке процессы можно завершить процесс.
    
- Панель настроек запускается, но не отображается на мониторе:
    
    `$xrandr` выводит информацию о подключённых мониторах, нужно определить название второго монитора;
    
    `$xrandr --output <name> --off` отключает монитор с именем <name>
    
    ---
    
- Изменение сочетания клавиш на недоступные в настройках (например Ctr+Shift)
    
    Установить утилиту gnome-tweaks
    
    `sudo apt install gnome-tweaks`
    
    Запустить через лаунчер (иконка “доп.настройки”) и выбрать пункт “Клавиатура и мышь” → “Дополнительные параметры раскладки
    
    ---
    

**Nano:**

- ^ + O  сохранить
- ^ + X  выйти
- Alt + 3  комментирует блок текста:
- Esc +3 комментирует блок текста:

**Vim:**

- Esc - переход в командный режим
- Insert (I) - переход в режим редактирования
- :  - режим ввода команд

Варианты команд:

- q - выйти из редактора
- w - записать
- wq - выйти и записать
- q! - выйти без сохранения

## Настройка **ubuntu** после установки

[Инструкции по настройке](https://lifehacker.ru/nastrojka-ubuntu-posle-ustanovki/)

https://unsplash.com/wallpapers обои

```bash
sudo apt update && sudo apt upgrade

sudo apt install ubuntu‑restricted‑extras 
# устанавливает проприетарные кодеки, шрифты

sudo apt install gnome-tweaks
# устанавливает утилиту дополнительные настройки
# которые позволяют изменить комбинацию клавиш
# для смены раскладки клавиатуры

sudo apt install rar unrar p7zip-full p7zip-rar
# Установка дополнительных архиваторов

sudo apt install synaptic
# графический менеджер пакетов (не нужен)

sudo apt install flameshot peek –y
# инструменты для захвата с экрана и записи видео с экрана

sudo apt install gdebi
# приложение для установки deb-пакетов

sudo apt install bashtop -y
# монитор ресурсов

sudo apt install wine winetricks
# установка средства для запуска Windows-приложений

winecfg
# запуск конфигуратора wine для создания служебных
# каталогов и выбора версии Windows

sudo apt install fbreader
# устанавливает читалку для fb2 и др.

```

Примеры команд bash:

```bash

cd .. # переход в родительскую дирректорию

cd - # переход в предыдущую дирректорию

cd ~ # переход в домашнюю дирректорию

sudo lspci # выводит список устройств

sudo lsusb # выводит список устройств

sudo lshw -c video # выводит информацию о видео карте

lspci -k | grep -EA2 'VGA|3D' # информация о видеодрайвере

sudo lshw # список всех устройств

sudo apt install hardinfo # устанавливает утилиту, 
# выводящую информацию об устройствах

sudo ifconfig # выводит список активных интерфейсов. Устаревшее

ip a # выводит список активных интерфейсов.

gsettings set org.gnome.shell.extensions.dash‑to‑dock click‑action 'minimize'
# запуск иконок в один клик (но это не точно)

poweroff # завершает работу Linux и отключает питание

halt # завершает работу системы, но не отключает питание

reboot # перезагружает

shutdown # более гибкое завершение работы

cat textFile | less # постраничный просмотр длинного файла

hostnamectl # Эта команда возвращает название дистрибутива, 
# версию и кодовое название вместе с конкретной версией ядра

dpkg --get-selections
# просмотр в терминале список установленных пакетов

apt list --installed
# просмотр в терминале список установленных пакетов

sudo apt install gdebi
# приложение для установки deb-пакетов

sudo snap install postman
# 

sudo apt-get purge snapd
sudo apt-get install gnome-software
# это нужно для восстановления графического интерфейса
# (но это не точно и возможно небезопасно)
```

## Установка. Пользователи. Группы. Права.

**clear - очистить консоль**

**sudo apt install mc - устанавливает mc**

**mc - midnight commander**

**sudo apt install openssh-server - установка ssh-сервера**

**sudo apt install gcc make perl - установка гостевых дополнений**

**sudo reboot - перезагрузка системы через ком.стр.**

**Проброс портов - в случае WiFi подключения компа к Internet**

**Сетевой мост - в случае кабельного соединения**

**ip a - выводит список сетевых интерфейсов**

**systemctl status ssh - проверка статуса сервиса ssh**

**ssh andrew@255.255.255.255 - подключение к ssh-серверу из ком. строки windows в случае настройки сетевой мост**

**ssh -p 8022 andrew@localhost - для случая с пробросом портов**

**sudo usermod -aG vboxsf andrew - добавляет пользователя (andrew) к группе (vboxsf)**

**$ - обычный пользователь**

**#- root пользователь**

**sudo su - переход пользователя в режим root**

**~ обозначает домашний каталог пользователя, напр: cd ~**

**cd  возвращает в корень**

**cd . текущий каталог**

**cd ~ домашний каталог**

**cd .. переход на уровень вверх**

**ls -a показывает скрытые элементы**

**ls -al список всех элементов в длинном формате**

**ll псевдоним, аналогично ls -al**

**ls —help краткая справка по команде и её ключам**

**man ls подробный вариант справки**

**pwd текущий каталог (полный путь)**

**mkdir -p 1/2/3/4 создаст все поддиректории. -p(parent). Без -p OS выдаст ошибку**

**cat > testfile произвольный текст +Ctr+d создаёт testfile с “произвольный текст”в текущей директории.**

**cp testFile newTestFile  копирует файл**

**cp -r test newTest  копирует каталог. -r(recursion) ключ позволяет копировать вложенные эл-ты**

**mv test test_2 переносит файл или каталог. Ключ не нужен.**

**touch testFile создаёт пустой файл**

**cat testFile testFile2 > testAll  склеивает два(или больше) файла и создаёт новый**

**cat testAll  распечатывает файл в терминал**

**rm file удаляет файл или каталог. -r для каталога. -f(force) без вопросов(в ubuntu по умолчанию)** 

**mkdir ddd{1..4} - создаст четыре папки. Таким же образом можно создавать, удалять файлы и папки**

**cal - выводит календарь, если он установлен в системе (sudo apt install ncal)**

```bash
ln file1 file2 # создаёт жёсткую ссылку

ls -ali # показывает список файлов с айнодами(inode) -i

cat >> file какойтотекст Ctr+d # добавляет текст в файл(inode)

# ./ и ../ жёсткие ссылки на каталог. Пользователь не может делать жёсткие ссылки на каталоги

# Жёсткие ссылки работают только в одной файловой системе

ln -s file1 file2 # символическая ссылка. Файл file2 содержит ссылку на file1. Если ссылка содержит отн путь, то при переносе такого файла ссылка престанет работать

# Симв ссылки могут работать в разных файл сис

ls -li / # выводит inodes

sudo df -i # про inodes. ???

history # все команды за сеанс

```

## Специальные файловые системы

● /bin (binaries) – здесь содержатся исполняемые файлы самых необходимых
утилит. Важный момент: эта папка может быть символьной ссылкой на
/usr/bin.

● /boot – папка содержит файлы, которые необходимы для первичного этапа
загрузки ОС Linux: загрузки ядра и его компоненты.

● /dev (devices) – содержит в себе блочные и символьные файлы устройств
(диски, терминалы, клавиатуры, принтеры и так далее).

● /etc (etcetera) – хранит в себе набор конфигурационных файлов системы и
прикладных программ.

● /home – в этой директории хранятся домашние каталоги пользователей для
хранения «личных» файлов.

● /lib (libraries) – содержит в себе файлы библиотек, необходимых для работы
утилит, системного и прикладного ПО. Также может быть символьной
ссылкой на /usr/bin.

● /mnt (mount) – каталог, предназначенный для подключения файловых систем
(съемных носителей и др.). Как принято называть - точка монтирования (от
англ. mountpoint).

● /opt (optional) – каталог для различного рода дополнительных программ
(проприетарных драйверов, агентов мониторинга и др.).

● /proc (process) – одна из важнейших директорий, содержащая в себе
сущности-ссылки на файлы, содержащиеся в оперативной памяти, в которых
содержится информация о выполняемых в системе процессах.

● /root – домашний каталог пользователя root (аналог /home для других
пользователей).

● /sbin (system binaries) – содержит набор файлов системных утилит, которые
необходимы для загрузки ядра ОС, резервного копирования и
восстановления системы. Также может быть символьной ссылкой на /usr/sbin.

● /sys (system) – виртуальная файловая система sysfs, которая содержит
информацию об аппаратном обеспечении (ЦПУ, ОЗУ, дисках, сетевых
устройствах), драйверах, ядре системы и др.

● /tmp – каталог для различного рода временных файлов, обычно зачищается
при каждой загрузке системы.

● /usr – ранее считалось, что это пользовательский каталог, который содержит каталоги исполняемых файлов и конфигурационных файлов. Сейчас же - просто каталог с исполняемыми и конфигурационными файлами.

● /var (variable) – содержит файлы, создаваемые или используемые
различными программами (различные логи, очереди, идентификаторы
процессов, базы данных и тд.).

---

- **/dev - устройства**

- **/proc - процессы и состояние ОС**
    - **/proc/cpuinfo - процессор**
    - **/proc/version - версия ОС**

- **/sys - информация о системе**

- **/run - временные файлы состояния**

## Типы файлов

- **- обычный файл**

- **d - директория**

- **b - блочное устройство, обычно это дисковые накопители**

- **c - символьное устройство минимальный элемент один символ**

- **s - UNIX-сокет.**

- **p - именованный канал**

- **l - символическая ссылка**