# Использование Spring для разработки серверного приложения.

[Методичка](https://gbcdn.mrgcdn.ru/uploads/asset/5643784/attachment/3e424d1c82e527dbbebf91a5fda8d2c4.pdf)

## Rest API

или представительное состояние передачи, – это архитектурный стиль, используемый для обмена данными в вебе. Он базируется на принципах HTTP и поощряет разработчиков создавать простые, без состояний и предсказуемые веб-сервисы.

REST прост и понятен. Он использует стандартные HTTP-методы, такие как GET,
POST, PUT и DELETE, чтобы представить операции, которые вы можете выполнять с
ресурсами. Это делает его очень интуитивным и простым в использовании, как для
разработчиков, так и для клиентов.


```java
@RequestMapping(value = "/items", method = RequestMethod.GET)
public ResponseEntity<List<Item>> getItems(
@RequestParam(value = "page", defaultValue = "1") int page,
@RequestParam(value = "size", defaultValue = "10") int size) {
  List<Item> items = getItemsFromDatabase(page, size); // это просто пример
  return new ResponseEntity<>(items, HttpStatus.OK);
}
```

```java
@Controller
@RequestMapping("/api")
public class MyController {

// другие обработчики здесь

@ExceptionHandler(ItemNotFoundException.class)
public ResponseEntity<String>
handleItemNotFoundException(ItemNotFoundException ex) {

 return new ResponseEntity<>(ex.getMessage(), HttpStatus.NOT_FOUND);
 
}
}
```
## REST и SOAP

[**SOAP(Simple Object Access Protocol)**](https://elbrusboot.camp/blog/soap-api/) — это протокол обмена сообщениями между компьютерными системами.

REST и SOAP на самом деле не сопоставимы. REST — это архитектурный стиль. SOAP — это формат обмена сообщениями. 

На верхнем уровне SOAP ограничивает структуры ваших сообщений, тогда как REST — это архитектурный подход, ориентированный на использование HTTP в качестве транспортного протокола.

Специфика SOAP — это формат обмена данными. С SOAP это всегда SOAP-XML, который представляет собой XML, включающий:

— Envelope (конверт) – корневой элемент, который определяет сообщение и пространство имен, использованное в документе,

— Header (заголовок) – содержит атрибуты сообщения, например: информация о безопасности или о сетевой маршрутизации,

— Body (тело) – содержит сообщение, которым обмениваются приложения,

— Fault – необязательный элемент, который предоставляет информацию об ошибках, которые произошли при обработке сообщений. И запрос, и ответ должны соответствовать структуре SOAP.

Специфика REST — использование HTTP в качестве транспортного протокола. Он подразумевает наилучшее использование функций, предоставляемых HTTP — методы запросов, заголовки запросов, ответы, заголовки ответов и т. д.

### Формат обмена сообщениями

В SOAP вы используете формат SOAP XML для запросов и ответов.

Стили взаимодействия. SOAP API поддерживает различные  стили взаимодействия, которые определяют, как клиент и сервер обмениваются данными, например:

- **RPC-стиль**. В RPC-стиле клиент вызывает удаленный метод на сервере, передавая ему параметры. Сервер выполняет метод и возвращает результат обратно клиенту. RPC-стиль абстрагирует вызовы удаленных методов, делая их похожими на вызовы локальных методов.

- **Document-style**. В Document-стиле данные передаются в виде XML-документа. Вместо вызова методов, клиент и сервер обмениваются структурированными XML-данными. Document-style более гибкий и позволяет передавать сложные объекты и атрибуты.

В REST такого фиксированного формата нет. Вы можете обмениваться сообщениями на основе XML, JSON или любого другого удобного формата. JSON является самым популярным среди используемых форматов.

### Определения услуг

SOAP использует WSDL (Web Services Description Language) — язык описания веб-сервисов и доступа к ним, основанный на языке XML.
REST не имеет стандартного языка определения сервиса. Несмотря на то, что WADL был одним из первых предложенных стандартов, он не очень популярен. Более популярно использование Swagger или Open API.

### Транспорт

SOAP не накладывает никаких ограничений на тип транспортного протокола. Вы можете использовать либо Web протокол HTTP, либо MQ.

REST подразумевает наилучшее использование транспортного протокола HTTP

